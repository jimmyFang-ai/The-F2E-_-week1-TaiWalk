{"version":3,"sources":["all.js","index.js","pagination.js","scenicSpot.js","swiper.js","util.js"],"names":["getAuthorizationHeader","AppID","AppKey","GMTString","Date","toGMTString","ShaObj","jsSHA","setHMACKey","update","HMAC","getHMAC","Authorization","apiUrl_activity","apiUrl_scenicSpot","apiUrl_restaurant","init","get_activity","get_scenicSpot","get_restaurant","scenicSpot_getAllData","scenicSpot_getInnerData","axios","get","headers","then","response","data_activity","data","home_activity","render_activity","error","console","log","data_scenicSpot","home_scenicSpot","render_scenicSpot","data_restaurant","home_restaurant","render_restaurant","document","querySelector","home_searchBtn","arr","str","month","getMonth","year","getFullYear","i","dataIndex","getRandom","length","dataItem","checkDate","parseInt","EndTime","slice","ActivityID","Picture","PictureUrl1","Description","StartTime","ActivityName","City","innerHTML","undefined","ScenicSpotID","DescriptionDetail","ScenicSpotName","RestaurantID","RestaurantName","addEventListener","search_keyword","search_type","value","trim","window","location","href","pagination","renderPages","nowPage","dataPerPage","totalPages","Math","ceil","currentPage","minData","maxData","currentPageData","forEach","item","index","push","pageInfo","hasPage","hasNext","scenicSpot_renderResult","renderPageBtn","Number","switchPage","e","preventDefault","target","nodeName","clickPage","dataset","page","data_filterResult","scenicSpot_themeArea","scenicSpot_categoryInner","scenicSpot_searchResult","search_city","search_category","scenicSpot_searchBtn","scenicSpot_categoryList","scenicSpot_resultList","search_resultNum","breadcrumb_theme","breadcrumb_city","breadcrumb_location","scenicSpotInner_mame","scenicSpotInner_category","scenicSpotInner_description","scenicSpotInner_opentTime","scenicSpotInner_phone","scenicSpotInner_address","scenicSpotInner_websiteUrl","scenicSpotInner_ticketInfo","scenicSpotInner_remarks","scenicSpotInner_map","thisData","scenicSpot_changeCategory","category_card","closest","categoryVal","category","category_allCard","querySelectorAll","classList","remove","add","scenicSpot_updateResult","category_resultList","filter","Class1","textContent","search_scenicSpot","city","keyword","search_scenicSpotList","match","targetId","split","scenicSpot_renderInner","OpenTime","setAttribute","Phone","Address","WebsiteUrl","TicketInfo","Remarks","toggle","swiper_heroBanner","Swiper","cssMode","slidesPerView","loop","autoplay","disableOnInteraction","delay","navigation","nextEl","prevEl","el","clickable","swiper_homeSpots","spaceBetween","grid","rows","fill","breakpoints","swiper_homeRestaurant","swiper_spotsBanner","swiper_activityBanner","swiper_restaurantBanner","swiper_recommend","$","on","toggleClass","lastPos","currentPos","scrollY","css","scrollTop","hasClass","addClass","animate","num","floor","random"],"mappings":"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","file":"all.js","sourcesContent":["\r\n// PTX api  header 驗證\r\nfunction getAuthorizationHeader() {\r\n  //  填入自己 ID、KEY 開始\r\n  let AppID = 'FFFFFFFF-FFFF-FFFF-FFFF-FFFFFFFFFFFF';\r\n  let AppKey = 'FFFFFFFF-FFFF-FFFF-FFFF-FFFFFFFFFFFF';\r\n  // let AppID = 'pi20120413-51900829-226c-41ea';\r\n  // let AppKey = '3b7f6972-70db-4eba-8d74-2d6e11c5f499';\r\n  //  填入自己 ID、KEY 結束\r\n  let GMTString = new Date().toGMTString();\r\n  let ShaObj = new jsSHA('SHA-1', 'TEXT');\r\n  ShaObj.setHMACKey(AppKey, 'TEXT');\r\n  ShaObj.update('x-date: ' + GMTString);\r\n  let HMAC = ShaObj.getHMAC('B64');\r\n  let Authorization = 'hmac username=\\\"' + AppID + '\\\", algorithm=\\\"hmac-sha1\\\", headers=\\\"x-date\\\", signature=\\\"' + HMAC + '\\\"';\r\n  return { 'Authorization': Authorization, 'X-Date': GMTString };\r\n}\r\n\r\n\r\n// apiUrl\r\nlet apiUrl_activity = `https://ptx.transportdata.tw/MOTC/v2/Tourism/Activity/?$filter=Picture%2FPictureUrl1%20ne%20null&$format=JSON`;\r\nlet apiUrl_scenicSpot = `https://ptx.transportdata.tw/MOTC/v2/Tourism/ScenicSpot?$filter=Picture%2FPictureUrl1%20ne%20null&%format=JSON`;\r\nlet apiUrl_restaurant = `https://ptx.transportdata.tw/MOTC/v2/Tourism/Restaurant/?$filter=Picture%2FPictureUrl1%20ne%20null&$format=JSON`;\r\n\r\n\r\n\r\n// 初始化\r\nfunction init() {\r\n  // 首頁- 取得資料\r\n  get_activity();\r\n  get_scenicSpot();\r\n  get_restaurant();\r\n\r\n  // 探索景點頁面 \r\n  // - 取得景點全部資料\r\n  scenicSpot_getAllData();\r\n  // - 取得景點單一資料\r\n  scenicSpot_getInnerData();\r\n}\r\ninit();\r\n\r\n\r\n// 首頁 - 取得資料\r\n// 近期活動\r\nfunction get_activity() {\r\n  axios.get(apiUrl_activity,\r\n    {\r\n      headers: getAuthorizationHeader()\r\n    }\r\n  )\r\n    .then(function (response) {\r\n      const data_activity = response.data;\r\n\r\n      //呈現畫面\r\n      if (home_activity) {\r\n        render_activity(data_activity);\r\n      }\r\n    })\r\n    .catch(function (error) {\r\n      console.log(error.response.data);\r\n    });\r\n};\r\n\r\n// 打卡景點\r\nfunction get_scenicSpot() {\r\n  axios.get(apiUrl_scenicSpot,\r\n    {\r\n      headers: getAuthorizationHeader()\r\n    }\r\n  )\r\n    .then(function (response) {\r\n      const data_scenicSpot = response.data;\r\n\r\n      //呈現畫面\r\n      if (home_scenicSpot) {\r\n        render_scenicSpot(data_scenicSpot);\r\n      }\r\n    })\r\n    .catch(function (error) {\r\n      console.log(error.response.data);\r\n    });\r\n};\r\n\r\n//餐廳資訊\r\nfunction get_restaurant() {\r\n  axios.get(apiUrl_restaurant,\r\n    {\r\n      headers: getAuthorizationHeader()\r\n    }\r\n  )\r\n    .then(function (response) {\r\n      const data_restaurant = response.data;\r\n\r\n      if (home_restaurant) {\r\n        //呈現畫面\r\n        render_restaurant(data_restaurant);\r\n      }\r\n    })\r\n    .catch(function (error) {\r\n      console.log(error.response.data);\r\n    });\r\n};\r\n\r\n\r\n","\r\n// 首頁 js\r\n\r\n// 呈現畫面 DOM \r\nconst home_activity = document.querySelector('.home_activity');\r\nconst home_scenicSpot = document.querySelector('.home_scenicSpot');\r\nconst  home_restaurant = document.querySelector('.home_restaurant');\r\n\r\n// 搜尋按鈕\r\nconst  home_searchBtn = document.querySelector('.search_Btn');\r\n\r\n\r\n\r\n// 首頁- 呈現畫面\r\n//近期活動 \r\nfunction render_activity(arr) {\r\n\r\n  let str = '';\r\n\r\n  //  取得當前年份和月份\r\n  // 月份是從0開始，所以要加1，才會符合12個月/年\r\n  const month = new Date().getMonth() + 1;\r\n  const year = new Date().getFullYear();\r\n\r\n\r\n  // 畫面呈現為四筆資料，所以要跑四次迴圈\r\n  for (let i = 0; i < 4; i++) {\r\n\r\n    // 隨機取得 陣列資料索引位置和資料\r\n    let dataIndex = getRandom(arr.length);\r\n    let dataItem = arr[dataIndex];\r\n\r\n    // 取得最近活動還沒結束的時間，落在今年或明年。\r\n    const checkDate = parseInt(dataItem.EndTime.slice(0, 4)) >= year && parseInt(dataItem.EndTime.slice(5, 7)) >= month || parseInt(dataItem.EndTime.slice(0, 4)) > year;\r\n    // console.log(checkDate);\r\n\r\n    // 判斷 如果checkDate 為 false 重跑一次迴圈\r\n    if (checkDate === false) {\r\n      i -= 1;\r\n      continue;\r\n    } else {\r\n      // 為 true 的話就組字串資料\r\n      str += `<div class=\"col mb-2\">\r\n        <div class=\"card\">\r\n          <div class=\"row g-0\">\r\n            <div class=\"col-4 overflow-hidden\">\r\n            <div class=\"ratio ratio-9x7  ratio-md-1x1\">\r\n               <a class=\"imgWarp\" href=\"./activity.html?id=${dataItem.ActivityID}\">\r\n               <img class=\" card-img img-cover\" src=\"${dataItem.Picture.PictureUrl1}\" alt=\"${dataItem.Description}\">\r\n               </a>\r\n            </div>\r\n            </div>\r\n            <div class=\"col-8\">\r\n              <div class=\"card-body d-flex flex-column  justify-content-between py-md-1  py-lg-2 px-lg-5\">\r\n                <div>\r\n                  <span class=\"card-text text-secondary fs-xs fs-lg-6\"> ${dataItem.StartTime.slice(0, 10)} - ${dataItem.EndTime.slice(0, 10)}</span>\r\n                  <h5 class=\"card-title fs-6 fs-lg-xl lh-base fw-bold mb-0 text-truncate\">${dataItem.ActivityName}</h5>\r\n                </div>\r\n                <div class=\"d-flex justify-content-between align-items-center\">\r\n                  <span class=\"card-text text-secondary d-flex align-items-center\"><img class=\"me-1\"\r\n                      src=\"./assets/images/spot16.png\" alt=\"spot\">${dataItem.City}</span>\r\n                  <a class=\"btn  btn-infoBtn   d-none d-md-inline-block shadow-none\" href=\"./activity.html?id=${dataItem.ActivityID}\"><span\r\n                      class=\"btn-inner\">詳細介紹 ❯\r\n                    </span></a>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>`;\r\n    }\r\n  };\r\n\r\n  // 呈現畫面\r\n  home_activity.innerHTML = str;\r\n};\r\n\r\n\r\n// 打卡景點\r\nfunction render_scenicSpot(arr) {\r\n\r\n  let str = '';\r\n\r\n  // 畫面呈現為四筆資料，所以要跑四次迴圈\r\n  for (let i = 0; i < 4; i++) {\r\n\r\n    // 隨機取得 陣列資料索引位置和資料\r\n    let dataIndex = getRandom(arr.length);\r\n    let dataItem = arr[dataIndex];\r\n\r\n    // 如果沒縣市名字 就重跑一次迴圈\r\n    if (dataItem.City === undefined) {\r\n      i -= 1;\r\n      continue;\r\n    } else {    // onerror事件 : 當圖片不存在時或者因為網路原因載入失敗,將觸發onerror事件，替換預設圖片\r\n      str += `<li class=\"swiper-slide\">\r\n      <div class=\"ratio ratio-5x4 rounded-5  overflow-hidden\">\r\n        <a href=\"./scenicSpot.html?id=${dataItem.ScenicSpotID}\">\r\n          <img class=\"w-100 h-100 img-cover zoomImg\" src=\"${dataItem.Picture.PictureUrl1}\"  onerror=\"this.onerror=''; this.src='./assets/images/NoImage-255x200.png'\"\r\n            alt=\"${dataItem.DescriptionDetail}\">\r\n        </a>\r\n      </div>\r\n      <div class=\"py-1 py-md-2\">\r\n        <h5 class=\"slide-title-hover fw-bold  fs-m fs-md-5 mb-1 text-truncate\">${dataItem.ScenicSpotName}</h5>\r\n        <span class=\"text-secondary d-flex align-items-center\"><img class=\"me-1\"\r\n            src=\"./assets/images/spot16.png\" alt=\"spot\">${dataItem.City}</span>\r\n      </div>\r\n    </li>`;\r\n    }\r\n  };\r\n\r\n  // 呈現畫面\r\n  home_scenicSpot.innerHTML = str;\r\n};\r\n\r\n\r\n// 餐廳資訊\r\nfunction render_restaurant(arr) {\r\n\r\n  let str = '';\r\n\r\n  // 畫面呈現為四筆資料，所以要跑四次迴圈\r\n  for (let i = 0; i < 4; i++) {\r\n\r\n    // 隨機取得 陣列資料索引位置和資料\r\n    let dataIndex = getRandom(arr.length);\r\n    let dataItem = arr[dataIndex];\r\n\r\n\r\n    // 如果沒縣市名字 就重跑一次迴圈\r\n    if (dataItem.City === undefined) {\r\n      i -= 1;\r\n      continue;\r\n    } else {     // onerror事件 : 當圖片不存在時或者因為網路原因載入失敗,將觸發onerror事件，替換預設圖片\r\n      str += `<li class=\"swiper-slide\">\r\n        <div class=\"ratio ratio-5x4 rounded-5  overflow-hidden\">\r\n          <a href=\"./Restaurant.html?id=${dataItem.RestaurantID}\">\r\n            <img class=\"w-100 h-100 img-cover zoomImg\" src=\"${dataItem.Picture.PictureUrl1}\" onerror=\"this.onerror=''; this.src='./assets/images/NoImage-255x200.png'\"\r\n              alt=\"${dataItem.DescriptionDetail}\">\r\n          </a>\r\n        </div>\r\n        <div class=\"py-1 py-md-2\">\r\n          <h5 class=\"slide-title-hover fw-bold  fs-m fs-md-5 mb-1 text-truncate\">${dataItem.RestaurantName}</h5>\r\n          <span class=\"text-secondary d-flex align-items-center\"><img class=\"me-1\"\r\n              src=\"./assets/images/spot16.png\" alt=\"spot\">${dataItem.City}</span>\r\n        </div>\r\n      </li>`;\r\n    }\r\n  };\r\n  // 呈現畫面\r\n  home_restaurant.innerHTML = str;\r\n};\r\n\r\n\r\n// 首頁 搜尋功能\r\nif (home_searchBtn) {\r\n  home_searchBtn.addEventListener('click', search_keyword);\r\n}\r\n\r\nfunction search_keyword() {\r\n  const search_type = document.querySelector('.search_type');\r\n  const search_keyword = document.querySelector('.search_keyword');\r\n\r\n  if (search_keyword.value.trim() !== '') {\r\n    // window.location.href = `./${search_type.value}.html?city=&keyword=\"+encodeURIComponent(${search_keyword.value.trim()})`;\r\n    window.location.href = `./${search_type.value}.html?%24filter=contains(keyword%2C'${search_keyword.value.trim()}')`;\r\n  }\r\n};\r\n\r\n\r\n","// 取得分頁 DOM 元素\r\nconst pagination = document.querySelector('.pagination');\r\n\r\n\r\n// 分頁功能 - 整體分頁功能\r\nfunction renderPages(data, nowPage) {\r\n\r\n    // 每一頁只顯示36筆資料\r\n    let dataPerPage =  36;\r\n\r\n    // page 按鈕總數量公式: 資料數量總額 / 每一頁要顯示的資料數量\r\n    // 因為計算過程會有餘數產生，所以要無條件進位，使用 Math.ceil()函式取得一個大於等於指定數字的最小整數。\r\n    const totalPages = Math.ceil(data.length / dataPerPage);\r\n\r\n\r\n    // 頁數\r\n    // 當前頁數，對應現在當前頁數\r\n    let currentPage = nowPage;\r\n    // 當 \"當前頁數\" 比 \"總頁數\" 大的時候， \"當前頁數\" 等於 \"總頁數\"\r\n    if (currentPage > totalPages) {\r\n        currentPage = totalPages;\r\n    };\r\n\r\n    // 資料筆數\r\n    const minData = (currentPage * dataPerPage) - dataPerPage + 1; // 最小資料筆數\r\n    const maxData = (currentPage * dataPerPage);  // 最大資料筆數\r\n\r\n    // 取出當前頁數的資料\r\n    const currentPageData = [];\r\n\r\n    // // 取得 data 資料的索引位置\r\n    data.forEach((item, index) => {\r\n        //取得 data 索引位置，因為索引是從 0 開始，所以要 +1\r\n        //當 index+1 比 minData 大且又小於 maxData 就push 進去 currentPageData 陣列\r\n        if (index + 1 >= minData && index + 1 <= maxData) {\r\n            currentPageData.push(item);\r\n        };\r\n    });\r\n\r\n\r\n    // 物件方式傳遞資料\r\n    const pageInfo = {\r\n        totalPages,\r\n        currentPage,\r\n        hasPage: currentPage > 1,\r\n        hasNext: currentPage < totalPages,\r\n    };\r\n\r\n\r\n    // 呈現出該頁資料\r\n    scenicSpot_renderResult(currentPageData);\r\n\r\n    // 呈現出分頁按鈕\r\n    renderPageBtn(pageInfo);\r\n\r\n    console.log(`全部資料:${data.length} 每一頁顯示:${dataPerPage}筆 總頁數:${totalPages}`);\r\n};\r\n\r\n\r\n// 分頁功能 - 渲染分頁按鈕\r\nfunction renderPageBtn(pageInfo) {\r\n    let str = \"\";\r\n\r\n    const totalPages = pageInfo.totalPages;\r\n\r\n    // 判斷 總頁數是否大於 1 頁\r\n    if (totalPages > 1) {\r\n        //點選上一頁\r\n        str += (pageInfo.hasPage) ?\r\n            `<li class=\"page-item\"><a class=\"page-link\" href=\"#\"  data-page=\"${Number(pageInfo.currentPage) - 1}\">&laquo;</a></li>`\r\n            : `<li class=\"page-item disabled\"><span class=\"page-link\">&laquo;</span></li>`;\r\n\r\n        // 點選頁數\r\n        for (let i = 1; i <= totalPages; i++) {\r\n            // 一開始預設顯示第一頁，如果是第一頁會加上 .active 樣式\r\n            str += (Number(pageInfo.currentPage) === i) ?\r\n                `<li class=\"page-item active\"><a class=\"page-link\" href=\"#\" aria-label=\"Previous\" data-page=\"${i}\">${i}</a></li>`\r\n                : `<li class=\"page-item\"><a class=\"page-link\" href=\"#\" data-page=\"${i}\">${i}</a></li>`;\r\n        };\r\n\r\n        // 點選下一頁\r\n        str += (pageInfo.hasNext) ?\r\n            `<li class=\"page-item\"><a class=\"page-link\" href=\"#\" aria-label=\"Next\" data-page=\"${Number(pageInfo.currentPage) + 1}\">&raquo;</a></li>`\r\n            : `<li class=\"page-item disabled\"><span class=\"page-link\" >&raquo;</span></li>`;\r\n\r\n    } else {\r\n        //總頁數小於 1 頁，只顯示分頁按鈕\r\n        for (let i = 1; i <= totalPages; i++) {\r\n            // 一開始預設顯示第一頁，如果是第一頁會加上 .active 樣式\r\n            str += (Number(pageInfo.currentPage) === i) ?\r\n                `<li class=\"page-item active\"><a class=\"page-link\" href=\"#\" aria-label=\"Previous\" data-page=\"${i}\">${i}</a></li>`\r\n                : `<li class=\"page-item\"><a class=\"page-link\" href=\"#\" data-page=\"${i}\">${i}</a></li>`;\r\n        };\r\n    };\r\n\r\n    pagination.innerHTML = str;\r\n};\r\n\r\n\r\n// 在 pagination 綁定監聽\r\nif (pagination !== null) {\r\n    pagination.addEventListener('click', switchPage);\r\n};\r\n\r\n//分頁功能 - 點擊按鈕切換頁面功能\r\nfunction switchPage(e) {\r\n    e.preventDefault();\r\n\r\n    if (e.target.nodeName !== 'A') {\r\n        return;\r\n    };\r\n\r\n    const clickPage = e.target.dataset.page;\r\n\r\n    renderPages(data_filterResult, clickPage);\r\n};","\r\n// 主要區塊 DOM \r\nconst scenicSpot_themeArea = document.querySelector('.scenicSpot-themeArea');\r\nconst scenicSpot_categoryInner = document.querySelector('.scenicSpot-categoryInner');\r\nconst scenicSpot_searchResult = document.querySelector('.scenicSpot-searchResult');\r\n\r\n\r\n// 搜尋欄位 DOM\r\nconst search_city = document.querySelector('.search-city');\r\nconst search_category = document.querySelector('.search-category');\r\nconst search_keyword = document.querySelector('.search-keyword');\r\nconst scenicSpot_searchBtn = document.querySelector('.scenicSpot_searchBtn');\r\n\r\n\r\n// 呈現畫面列表 DOM\r\nconst scenicSpot_categoryList = document.querySelector('.scenicSpot-categoryList');\r\nconst scenicSpot_resultList = document.querySelector('.scenicSpot-resultList');\r\nconst search_resultNum = document.querySelector('.search_resultNum');\r\n//     - 麵包削列表\r\nconst breadcrumb_theme = document.querySelector('.breadcrumb-theme');\r\nconst breadcrumb_city = document.querySelector('.breadcrumb-city');\r\nconst breadcrumb_location = document.querySelector('.breadcrumb-location');\r\n//    - 景點內頁資訊\r\nconst scenicSpotInner_mame = document.querySelector('.scenicSpot_mame');\r\nconst scenicSpotInner_category = document.querySelector('.scenicSpot_category');\r\nconst scenicSpotInner_description = document.querySelector('.scenicSpot_description');\r\nconst scenicSpotInner_opentTime = document.querySelector('.scenicSpot_opentTime');\r\nconst scenicSpotInner_phone = document.querySelector('.scenicSpot_phone');\r\nconst scenicSpotInner_address = document.querySelector('.scenicSpot_address');\r\nconst scenicSpotInner_websiteUrl = document.querySelector('.scenicSpot_websiteUrl');\r\nconst scenicSpotInner_ticketInfo = document.querySelector('.scenicSpot_ticketInfo');\r\nconst scenicSpotInner_remarks = document.querySelector('.scenicSpot_remarks');\r\nconst scenicSpotInner_map = document.querySelector('.scenicSpot_map');\r\n\r\n\r\n\r\n\r\n\r\n// 資料 - 探索景點頁面 \r\nlet data_scenicSpot = [];\r\n\r\n// 資料 - 篩選類別資料\r\nlet data_filterResult = [];\r\n\r\n\r\n\r\n// 探索景點 - 取得景點全部資料\r\nfunction scenicSpot_getAllData() {\r\n  axios.get(apiUrl_scenicSpot,\r\n    {\r\n      headers: getAuthorizationHeader()\r\n    }\r\n  )\r\n    .then(function (response) {\r\n      // 回傳的資料\r\n      const thisData = response.data;\r\n\r\n      // 過濾資料 排除沒有圖片、景點名字、城市\r\n      thisData.forEach((item) => {\r\n        if (item.Picture.PictureUrl1 && item.ScenicSpotName && item.City) {\r\n          data_scenicSpot.push(item);\r\n        }\r\n      });\r\n\r\n    })\r\n    .catch(function (error) {\r\n      console.log(error.response.data);\r\n    });\r\n};\r\n\r\n\r\n// 探索景點 - 切換類別樣式 & 取值\r\nif (scenicSpot_categoryList) {\r\n  scenicSpot_categoryList.addEventListener('click', scenicSpot_changeCategory);\r\n};\r\n\r\nfunction scenicSpot_changeCategory(e) {\r\n  e.preventDefault();\r\n\r\n  // 取出 卡片類片 的 DOM 和 值\r\n  let category_card = e.target.closest(\".category-card\");\r\n  let categoryVal = e.target.closest(\"li\").dataset.category;\r\n\r\n\r\n  // 切換 卡片類片 active\r\n  let category_allCard = document.querySelectorAll('.category-card');\r\n  category_allCard.forEach((item) => {\r\n    // 先移除全部 acitve\r\n    item.classList.remove(\"active\");\r\n  })\r\n  // 在透過被點擊到的卡片加上 acitve\r\n  category_card.classList.add(\"active\");\r\n\r\n  // 取出 卡片類別的值與 搜尋欄位的值連動\r\n  search_category.value = categoryVal;\r\n\r\n  scenicSpot_updateResult(categoryVal);\r\n};\r\n\r\n\r\n// 探索景點 - 更新類別篩選結果\r\nfunction scenicSpot_updateResult(categoryVal) {\r\n\r\n  let category_resultList = data_scenicSpot.filter((item) => item.Class1 === categoryVal);\r\n\r\n  data_filterResult = category_resultList;\r\n\r\n  //資料回傳 寫入分頁函式\r\n  renderPages(data_filterResult, 1);\r\n\r\n\r\n  // 呈現結果數字\r\n  search_resultNum.textContent = data_filterResult.length;\r\n};\r\n\r\n\r\n// 探索景點 - 搜尋功能 & 關鍵字\r\nif (scenicSpot_searchBtn) {\r\n  scenicSpot_searchBtn.addEventListener('click', search_scenicSpot);\r\n};\r\n\r\nfunction search_scenicSpot(e) {\r\n  //  城市\r\n  const city = search_city.value;\r\n  //  類別\r\n  const category = search_category.value;\r\n  //  關鍵字\r\n  const keyword = search_keyword.value.trim();\r\n\r\n\r\n  // 搜尋結果 \r\n  let search_scenicSpotList = data_scenicSpot.filter((item) => {\r\n    return item.City === city && item.Class1 === category && item.ScenicSpotName.match(keyword);\r\n  });\r\n\r\n\r\n  scenicSpot_renderResult(search_scenicSpotList);\r\n\r\n  renderPages(search_scenicSpotList, 1);\r\n\r\n\r\n  // 呈現結果數字\r\n  search_resultNum.textContent = search_scenicSpotList.length;\r\n};\r\n\r\n\r\n// 探索景點 - 呈現類別篩選結果\r\nfunction scenicSpot_renderResult(arr) {\r\n\r\n  let str = '';\r\n\r\n  // 如果有資料就顯示 類別篩選結果區塊\r\n  if (arr.length) {\r\n    arr.forEach((item) => {\r\n      str += `\r\n      <li class=\"col mb-2 mb-md-4\">\r\n      <div class=\"resultList-card border-0\">\r\n          <div class=\"ratio ratio-17x9  ratio-md-5x4 rounded-5  overflow-hidden\">\r\n              <a href=\"./scenicSpot.html?id=${item.ScenicSpotID}\">\r\n                  <img class=\"w-100 h-100 img-cover zoomImg\" src=\"${item.Picture.PictureUrl1}\" onerror=\"this.onerror=''; this.src='./assets/images/NoImage-255x200.png'\"\r\n                      alt=\"${item.DescriptionDetail}\">\r\n              </a>\r\n          </div>\r\n          <div class=\"py-1 py-md-2\">\r\n              <h5 class=\"card-title-hover fs-m fs-md-xl fw-bold text-truncate mb-1\">${item.ScenicSpotName}\r\n              </h5>\r\n              <span class=\"text-secondary d-flex align-items-center\"><img class=\"me-1\"\r\n                      src=\"./assets/images/spot16.png\" alt=\"spot\">${item.City}</span>\r\n          </div>\r\n      </div>\r\n  </li>`;\r\n    });\r\n\r\n    scenicSpot_searchResult.classList.remove('d-none');\r\n  };\r\n\r\n\r\n  // 呈現結果畫面\r\n  scenicSpot_resultList.innerHTML = str;\r\n};\r\n\r\n\r\n\r\n// 探索景點 - 取得景點單一資料\r\nfunction scenicSpot_getInnerData() {\r\n\r\n  // 取得單一資料 id\r\n  const targetId = location.href.split('=')[1];\r\n\r\n  // 如果 單一資料 id 不是 undefined 就發送請求取得資料\r\n  if (targetId !== undefined) {\r\n    // 發送請求，篩選 ScenicSpotID 與 id 符合的資料\r\n    axios.get(`https://ptx.transportdata.tw/MOTC/v2/Tourism/ScenicSpot?%24filter=contains(ScenicSpotID%2C'${targetId}')&%24top=30&%24format=JSON`,\r\n      {\r\n        headers: getAuthorizationHeader()\r\n      }\r\n    )\r\n      .then(function (response) {\r\n        // 回傳的資料\r\n        const thisData = response.data[0];\r\n        console.log(thisData);\r\n\r\n        // 呈現 內頁資料內容\r\n        scenicSpot_renderInner(thisData);\r\n\r\n        // 隱藏 探索景點主要內容\r\n        scenicSpot_themeArea.classList.add('d-none');\r\n      })\r\n      .catch(function (error) {\r\n        console.log(error.response.data);\r\n      });\r\n  }\r\n};\r\n\r\n\r\n// 探索景點 - 內頁資料內容\r\nfunction scenicSpot_renderInner(data) {\r\n  // 麵包削\r\n  breadcrumb_theme.classList.remove('text-secondary');\r\n  breadcrumb_theme.classList.add('text-primary');\r\n  breadcrumb_location.classList.add('text-secondary');\r\n  breadcrumb_city.textContent = `/ ${data.City}`;\r\n  breadcrumb_location.textContent = ` / ${data.ScenicSpotName}`;\r\n\r\n  // banner 圖片 \r\n  \r\n\r\n\r\n\r\n\r\n  // 景點名字\r\n  scenicSpotInner_mame.textContent = data.ScenicSpotName;\r\n  // 景點類別\r\n  scenicSpotInner_category.textContent = data.Class1;\r\n  // 景點介紹\r\n  scenicSpotInner_description.textContent = data.DescriptionDetail;\r\n  // 景點開放時間\r\n  scenicSpotInner_opentTime.textContent = data.OpenTime;\r\n  // 景點電話\r\n  scenicSpotInner_phone.setAttribute('href','tel:'+ data.Phone);\r\n  scenicSpotInner_phone.textContent = data.Phone;\r\n  // 景點地址\r\n  scenicSpotInner_address.textContent = data.Address;\r\n  // 景點網址\r\n  scenicSpotInner_websiteUrl.setAttribute('href',data.WebsiteUrl);\r\n  scenicSpotInner_websiteUrl.textContent = data.WebsiteUrl;\r\n  // 景點售票資訊\r\n  scenicSpotInner_ticketInfo.textContent = data.TicketInfo;\r\n  // 景點注意事項\r\n  scenicSpotInner_remarks.textContent = data.Remarks;\r\n  // 景點地圖\r\n  scenicSpotInner_map.innerHTML = `<iframe class=\"rounded-4\"\r\n  src=\"https://www.google.com/maps?q=${data.Address}(${data.ScenicSpotName})&hl=zh-TW&z=15&t=&output=embed\"\r\n  width=\"600\" height=\"450\" style=\"border:0;\" allowfullscreen=\"\" loading=\"lazy\"\r\n  referrerpolicy=\"no-referrer-when-downgrade\"></iframe>`;\r\n\r\n  // 如果資料的資訊是空的，就顯示無的狀態\r\n  if(!data.TicketInfo) {scenicSpotInner_ticketInfo.textContent = '無' };\r\n  if(! data.Remarks) {scenicSpotInner_remarks.textContent = '無'};\r\n  if(!data.WebsiteUrl) {\r\n    scenicSpotInner_websiteUrl.textContent = '無';\r\n    scenicSpotInner_websiteUrl.classList.add('text-dark');\r\n    scenicSpotInner_websiteUrl.classList.remove('text-info');\r\n    scenicSpotInner_websiteUrl.classList.toggle('text-decoration-underline');\r\n  };\r\n   \r\n}\r\n\r\n\r\n// 周邊介紹\r\n\r\n\r\n\r\n// 景點推薦\r\n\r\n\r\n\r\n\r\n\r\n","// 首頁 - heroBanner \r\nconst swiper_heroBanner = new Swiper(\".swiper-heroBanner\", {\r\n    cssMode: true,\r\n    slidesPerView: 1,\r\n    loop: true,\r\n    autoplay: {\r\n      disableOnInteraction: false,\r\n      delay: 4000,\r\n    },\r\n    navigation: {\r\n        nextEl: \".swiper-button-next\",\r\n        prevEl: \".swiper-button-prev\",\r\n      },\r\n      pagination: {\r\n        el: \".swiper-pagination\",\r\n        clickable: true,\r\n      },\r\n  });\r\n  \r\n\r\n// 首頁 - 熱門打卡景點\r\nconst swiper_homeSpots = new Swiper(\".swiper-home_scenicSpot\", {\r\n  slidesPerView: 1.6,\r\n  spaceBetween: 16,\r\n  grid: {\r\n      rows: 1,\r\n      fill: 'row',\r\n  },\r\n  breakpoints:{\r\n    992: {\r\n        slidesPerView: 4,\r\n        spaceBetween: 30,\r\n        grid: {\r\n            rows: 1,\r\n            fill: 'row',\r\n        },\r\n    },\r\n    768: {\r\n        slidesPerView: 2.5,\r\n        spaceBetween: 30,\r\n        grid: {\r\n            rows: 1,\r\n            fill: 'row',\r\n        },\r\n    },\r\n  }\r\n});\r\n\r\n// 首頁 - 一再回訪美食\r\nconst swiper_homeRestaurant = new Swiper(\".swiper-home_restaurant\", {\r\n  slidesPerView: 1.6,\r\n  spaceBetween: 16,\r\n  grid: {\r\n      rows: 1,\r\n      fill: 'row',\r\n  },\r\n  breakpoints:{\r\n    992: {\r\n        slidesPerView: 4,\r\n        spaceBetween: 30,\r\n        grid: {\r\n            rows: 1,\r\n            fill: 'row',\r\n        },\r\n    },\r\n    768: {\r\n        slidesPerView: 2.5,\r\n        spaceBetween: 30,\r\n        grid: {\r\n            rows: 1,\r\n            fill: 'row',\r\n        },\r\n    },\r\n  }\r\n});\r\n\r\n\r\n// 探索景點 內頁 swiper banner\r\nconst swiper_spotsBanner = new Swiper(\".swiper-scenicSpot_banner\", {\r\n  cssMode: true,\r\n  slidesPerView: 1,\r\n  loop: true,\r\n  autoplay: {\r\n    disableOnInteraction: false,\r\n    delay: 4000,\r\n  },\r\n  navigation: {\r\n      nextEl: \".swiper-button-next\",\r\n      prevEl: \".swiper-button-prev\",\r\n    },\r\n    pagination: {\r\n      el: \".swiper-pagination\",\r\n      clickable: true,\r\n    },\r\n});\r\n\r\n\r\n// 節慶活動 內頁 swiper banner\r\nconst swiper_activityBanner = new Swiper(\".swiper-activity_banner\", {\r\n  cssMode: true,\r\n  slidesPerView: 1,\r\n  loop: true,\r\n  autoplay: {\r\n    disableOnInteraction: false,\r\n    delay: 4000,\r\n  },\r\n  navigation: {\r\n      nextEl: \".swiper-button-next\",\r\n      prevEl: \".swiper-button-prev\",\r\n    },\r\n    pagination: {\r\n      el: \".swiper-pagination\",\r\n      clickable: true,\r\n    },\r\n});\r\n\r\n\r\n// 品嘗美食 內頁 swiper banner\r\nconst swiper_restaurantBanner = new Swiper(\".swiper-restaurant_banner\", {\r\n  cssMode: true,\r\n  slidesPerView: 1,\r\n  loop: true,\r\n  autoplay: {\r\n    disableOnInteraction: false,\r\n    delay: 4000,\r\n  },\r\n  navigation: {\r\n      nextEl: \".swiper-button-next\",\r\n      prevEl: \".swiper-button-prev\",\r\n    },\r\n    pagination: {\r\n      el: \".swiper-pagination\",\r\n      clickable: true,\r\n    },\r\n});\r\n\r\n\r\n\r\n// 推薦商品  swiper\r\nconst swiper_recommend = new Swiper(\".swiper-recommend\", {\r\n  slidesPerView: 1.6,\r\n  spaceBetween: 16,\r\n  grid: {\r\n      rows: 1,\r\n      fill: 'row',\r\n  },\r\n  breakpoints:{\r\n    992: {\r\n        slidesPerView: 4,\r\n        spaceBetween: 30,\r\n        grid: {\r\n            rows: 1,\r\n            fill: 'row',\r\n        },\r\n    },\r\n    768: {\r\n        slidesPerView: 2.5,\r\n        spaceBetween: 30,\r\n        grid: {\r\n            rows: 1,\r\n            fill: 'row',\r\n        },\r\n    },\r\n  }\r\n});\r\n\r\n","\r\n// 漢堡動態效果\r\n// const togglerBurger = document.querySelector('#toggler-burger');\r\n\r\n// // 預設是 false 選單關閉，不會出現打 X\r\n// let isMenuOpen = false;\r\n\r\n// togglerBurger.addEventListener('click', function (e) {\r\n//     //this 的指向是 togglerBurger 本身 要加上 open 樣式\r\n//     // console.log(this);\r\n//     // 點擊後 選單打開 為true，會出現打 X\r\n//     isMenuOpen = !isMenuOpen;\r\n//     isMenuOpen ? this.classList.add('open') : this.classList.remove('open');\r\n// })\r\n\r\n\r\n// 動態效果\r\n// jQuery 初始化\r\n$(function () {\r\n\r\n   // 漢堡動態效果\r\n   // 漢堡按鈕 綁定事件監聽，點擊後觸發加上切換 .open class功能\r\n   $('#toggler-burger').on('click', function () {\r\n      $(this).toggleClass('open');\r\n   })\r\n\r\n   // 導覽列滾動效果\r\n   let lastPos = 0;\r\n   $(window).on('scroll', function () {\r\n      let currentPos = window.scrollY;\r\n      //   往下滑\r\n      if (currentPos > lastPos) {\r\n         $('#navbar-toggle').css('top', '-100px');//讓navbar消失\r\n      } else {\r\n         $('#navbar-toggle').css('top', '0');//讓navbar出現\r\n      }\r\n      lastPos = currentPos;//再記住現在位置，跟未來的位置做比較\r\n   });\r\n\r\n\r\n   // goTop 動態效果\r\n   //選擇整個瀏覽器綁定監聽事件，使用 scroll 函式，並下判斷，如果瀏覽器的頂點超過 150x，\r\n  // 如果 .goTop 有 .hide 這個 Class，就執行切換 class，不然就增加 .hide。\r\n   $(window).on('scroll',function () {\r\n      if ($(window).scrollTop() > 150) {\r\n        if ($(\".goTop\").hasClass(\"hide\")) {\r\n          $(\".goTop\").toggleClass(\"hide\");\r\n        }\r\n      } else {\r\n        $(\".goTop\").addClass(\"hide\");\r\n      }\r\n    });\r\n\r\n   //  點擊 goTopBtn 按鈕後，html 與 body 給予動畫效果，並且讓捲軸上方回到 0 的位置，時間為 0.6秒。\r\n   $('#goTopBtn').on('click',function (e) {\r\n      e.preventDefault();\r\n      $('html , body').animate( { scrollTop: 0,},'600');\r\n    });\r\n    \r\n});\r\n\r\n\r\n\r\n// 亂數產生器函式\r\nfunction getRandom(num) {\r\n   return Math.floor(Math.random() * num);\r\n};\r\n\r\n\r\n\r\n\r\n\r\n"]}