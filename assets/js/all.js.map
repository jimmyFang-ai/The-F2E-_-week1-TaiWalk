{"version":3,"sources":["all.js","scenicSpot.js","swiper.js","util.js"],"names":["getAuthorizationHeader","AppID","AppKey","GMTString","Date","toGMTString","ShaObj","jsSHA","setHMACKey","update","HMAC","getHMAC","Authorization","console","log","apiUrl_activity","apiUrl_scenicSpot","apiUrl_restaurant","data_activity","data_scenicSpot","data_restaurant","home_activity","document","querySelector","home_scenicSpot","home_restaurant","init","get_activity","get_scenicSpot","get_restaurant","axios","get","headers","then","response","data","render_activity","error","arr","str","month","getMonth","year","getFullYear","i","dataIndex","getRandom","length","dataItem","checkDate","parseInt","EndTime","slice","ActivityID","Picture","PictureUrl1","Description","StartTime","ActivityName","City","innerHTML","render_scenicSpot","ScenicSpotID","DescriptionDetail","ScenicSpotName","render_restaurant","RestaurantID","RestaurantName","swiper_heroBanner","Swiper","cssMode","slidesPerView","loop","autoplay","disableOnInteraction","delay","navigation","nextEl","prevEl","pagination","el","clickable","swiper_homeSpots","spaceBetween","grid","rows","fill","breakpoints","swiper_homeRestaurant","swiper_spotsBanner","swiper_activityBanner","swiper_restaurantBanner","swiper_recommend","$","on","toggleClass","lastPos","window","currentPos","scrollY","css","scrollTop","hasClass","addClass","e","preventDefault","animate","num","Math","floor","random"],"mappings":"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","file":"all.js","sourcesContent":["\r\n// PTX api  header 驗證\r\nfunction getAuthorizationHeader() {\r\n  //  填入自己 ID、KEY 開始\r\n  let AppID = 'FFFFFFFF-FFFF-FFFF-FFFF-FFFFFFFFFFFF';\r\n  let AppKey = 'FFFFFFFF-FFFF-FFFF-FFFF-FFFFFFFFFFFF';\r\n  // let AppID = 'pi20120413-51900829-226c-41ea';\r\n  // let AppKey = '3b7f6972-70db-4eba-8d74-2d6e11c5f499';\r\n  //  填入自己 ID、KEY 結束\r\n  let GMTString = new Date().toGMTString();\r\n  let ShaObj = new jsSHA('SHA-1', 'TEXT');\r\n  ShaObj.setHMACKey(AppKey, 'TEXT');\r\n  ShaObj.update('x-date: ' + GMTString);\r\n  let HMAC = ShaObj.getHMAC('B64');\r\n  let Authorization = 'hmac username=\\\"' + AppID + '\\\", algorithm=\\\"hmac-sha1\\\", headers=\\\"x-date\\\", signature=\\\"' + HMAC + '\\\"';\r\n  return { 'Authorization': Authorization, 'X-Date': GMTString };\r\n}\r\n\r\n\r\n// 測試用 test\r\nconsole.log(getAuthorizationHeader());\r\n// let testApi = 'https://ptx.transportdata.tw/MOTC/v2/Tourism/ScenicSpot?%24top=100&%24format=JSON';\r\n\r\n\r\n// apiUrl\r\nlet apiUrl_activity = 'https://ptx.transportdata.tw/MOTC/v2/Tourism/Activity/?$filter=Picture%2FPictureUrl1%20ne%20null&$format=JSON';\r\nlet apiUrl_scenicSpot = 'https://ptx.transportdata.tw/MOTC/v2/Tourism/ScenicSpot?$filter=Picture%2FPictureUrl1%20ne%20null&%format=JSON';\r\nlet apiUrl_restaurant = 'https://ptx.transportdata.tw/MOTC/v2/Tourism/Restaurant/?$filter=Picture%2FPictureUrl1%20ne%20null&$format=JSON';\r\n\r\n\r\n// data  資料\r\nlet data_activity = [];\r\nlet data_scenicSpot = [];\r\nlet data_restaurant = [];\r\n\r\n\r\n// 呈現畫面 DOM \r\nlet home_activity = document.querySelector('.home_activity');\r\nlet home_scenicSpot = document.querySelector('.home_scenicSpot');\r\nlet home_restaurant = document.querySelector('.home_restaurant');\r\n\r\n// console.log(home_activity,home_scenicSpot,home_restaurant );\r\n\r\n\r\n// 初始化\r\nfunction init() {\r\n  get_activity();\r\n  get_scenicSpot();\r\n  get_restaurant();\r\n}\r\ninit();\r\n\r\n\r\n// 首頁近期活動: 取得資料 \r\nfunction get_activity() {\r\n  axios.get(apiUrl_activity,\r\n    {\r\n      headers: getAuthorizationHeader()\r\n    }\r\n  )\r\n    .then(function (response) {\r\n      data_activity = response.data;\r\n      \r\n      //呈現畫面\r\n      render_activity(data_activity);\r\n      console.log(data_activity);\r\n    })\r\n    .catch(function (error) {\r\n      console.log(error.response.data);\r\n    });\r\n};\r\n\r\n\r\n// 首頁近期活動:  呈現畫面\r\nfunction render_activity(arr) {\r\n\r\n  let str = '';\r\n\r\n  //  取得當前年份和月份\r\n  // 月份是從0開始，所以要加1，才會符合12個月/年\r\n  const month = new Date().getMonth() + 1;\r\n  const year = new Date().getFullYear();\r\n\r\n\r\n  // 畫面呈現為四筆資料，所以要跑四次迴圈\r\n  for (let i = 0; i < 4; i++) {\r\n\r\n    // 隨機取得 陣列資料索引位置和資料\r\n    let dataIndex = getRandom(arr.length);\r\n    let dataItem = arr[dataIndex];\r\n\r\n    // 取得最近活動還沒結束的時間，落在今年或明年。\r\n    const checkDate = parseInt(dataItem.EndTime.slice(0, 4)) >= year && parseInt(dataItem.EndTime.slice(5, 7)) >= month || parseInt(dataItem.EndTime.slice(0, 4)) > year;\r\n    // console.log(checkDate);\r\n\r\n    // 判斷 如果checkDate 為 false 重跑一次迴圈\r\n    if (checkDate === false) {\r\n      i -= 1;\r\n      continue;\r\n    } else {\r\n      // 為 true 的話就組字串資料\r\n      str += `<div class=\"col mb-2\">\r\n      <div class=\"card\">\r\n        <div class=\"row g-0\">\r\n          <div class=\"col-4 overflow-hidden\">\r\n          <div class=\"ratio ratio-9x7  ratio-md-1x1\">\r\n             <a class=\"imgWarp\" href=\"./activity.html?id=${dataItem.ActivityID}\">\r\n             <img class=\" card-img img-cover\" src=\"${dataItem.Picture.PictureUrl1}\" alt=\"${dataItem.Description}\">\r\n             </a>\r\n          </div>\r\n          </div>\r\n          <div class=\"col-8\">\r\n            <div class=\"card-body d-flex flex-column  justify-content-between py-md-1  py-lg-2 px-lg-5\">\r\n              <div>\r\n                <span class=\"card-text text-secondary fs-xs fs-lg-6\"> ${dataItem.StartTime.slice(0, 10)} - ${dataItem.EndTime.slice(0, 10)}</span>\r\n                <h5 class=\"card-title fs-6 fs-lg-xl lh-base fw-bold mb-0 text-truncate\">${dataItem.ActivityName}</h5>\r\n              </div>\r\n              <div class=\"d-flex justify-content-between align-items-center\">\r\n                <span class=\"card-text text-secondary d-flex align-items-center\"><img class=\"me-1\"\r\n                    src=\"./assets/images/spot16.png\" alt=\"spot\">${dataItem.City}</span>\r\n                <a class=\"btn  btn-infoBtn   d-none d-md-inline-block shadow-none\" href=\"./activity.html?id=${dataItem.ActivityID}\"><span\r\n                    class=\"btn-inner\">詳細介紹 ❯\r\n                  </span></a>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>`;\r\n    }\r\n  };\r\n\r\n  // 呈現畫面\r\n  home_activity.innerHTML = str;\r\n};\r\n\r\n\r\n// 首頁打卡景點: 取得資料 \r\nfunction get_scenicSpot() {\r\n  axios.get(apiUrl_scenicSpot,\r\n    {\r\n      headers: getAuthorizationHeader()\r\n    }\r\n  )\r\n    .then(function (response) {\r\n      data_scenicSpot = response.data;\r\n      \r\n      //呈現畫面\r\n      render_scenicSpot(data_scenicSpot);\r\n      console.log(data_scenicSpot);\r\n    })\r\n    .catch(function (error) {\r\n      console.log(error.response.data);\r\n    });\r\n};\r\n\r\n\r\n// 首頁打卡景點: 呈現畫面\r\nfunction render_scenicSpot(arr) {\r\n\r\n  let str = '';\r\n\r\n  // 畫面呈現為四筆資料，所以要跑四次迴圈\r\n  for (let i = 0; i < 4; i++) {\r\n\r\n    // 隨機取得 陣列資料索引位置和資料\r\n    let dataIndex = getRandom(arr.length);\r\n    let dataItem = arr[dataIndex];\r\n\r\n    str += `<li class=\"swiper-slide\">\r\n    <div class=\"ratio ratio-5x4 rounded-5  overflow-hidden\">\r\n      <a href=\"./scenicSpot.html?id=${dataItem.ScenicSpotID}\">\r\n        <img class=\"w-100 h-100 img-cover zoomImg\" src=\"${dataItem.Picture.PictureUrl1}\"\r\n          alt=\"${dataItem.DescriptionDetail}\">\r\n      </a>\r\n    </div>\r\n    <div class=\"py-1 py-md-2\">\r\n      <h5 class=\"slide-title-hover fw-bold  fs-m fs-md-5 mb-1 text-truncate\">${dataItem.ScenicSpotName}</h5>\r\n      <span class=\"text-secondary d-flex align-items-center\"><img class=\"me-1\"\r\n          src=\"./assets/images/spot16.png\" alt=\"spot\">${dataItem.City}</span>\r\n    </div>\r\n  </li>`;\r\n\r\n  };\r\n\r\n  // 呈現畫面\r\n  home_scenicSpot.innerHTML = str;\r\n};\r\n\r\n\r\n// 首頁餐廳資訊: 取得資料 \r\nfunction get_restaurant() {\r\n  axios.get(apiUrl_restaurant,\r\n    {\r\n      headers: getAuthorizationHeader()\r\n    }\r\n  )\r\n    .then(function (response) {\r\n      data_restaurant = response.data;\r\n      \r\n      //呈現畫面\r\n      render_restaurant(data_restaurant);\r\n      console.log(data_restaurant);\r\n    })\r\n    .catch(function (error) {\r\n      console.log(error.response.data);\r\n    });\r\n};\r\n\r\n\r\n\r\n// 首頁餐廳資訊: 呈現畫面\r\nfunction  render_restaurant(arr) {\r\n\r\n  let str = '';\r\n\r\n  // 畫面呈現為四筆資料，所以要跑四次迴圈\r\n  for (let i = 0; i < 4; i++) {\r\n\r\n    // 隨機取得 陣列資料索引位置和資料\r\n    let dataIndex = getRandom(arr.length);\r\n    let dataItem = arr[dataIndex];\r\n\r\n    str += `<li class=\"swiper-slide\">\r\n    <div class=\"ratio ratio-5x4 rounded-5  overflow-hidden\">\r\n      <a href=\"./Restaurant.html?id=${dataItem.RestaurantID}\">\r\n        <img class=\"w-100 h-100 img-cover zoomImg\" src=\"${dataItem.Picture.PictureUrl1}\"\r\n          alt=\"${dataItem.DescriptionDetail}\">\r\n      </a>\r\n    </div>\r\n    <div class=\"py-1 py-md-2\">\r\n      <h5 class=\"slide-title-hover fw-bold  fs-m fs-md-5 mb-1 text-truncate\">${dataItem.RestaurantName}</h5>\r\n      <span class=\"text-secondary d-flex align-items-center\"><img class=\"me-1\"\r\n          src=\"./assets/images/spot16.png\" alt=\"spot\">${dataItem.City}</span>\r\n    </div>\r\n  </li>`;\r\n  };\r\n\r\n  // 呈現畫面\r\n  home_restaurant.innerHTML = str;\r\n};","\r\n\r\n// const searchCategory = document.querySelector(\".search-category\");\r\n\r\n// const categoryList = document.querySelector(\".spots-categoryList\");\r\n\r\n// console.log(searchCategory);\r\n// if (categoryList) {\r\n//     categoryList.addEventListener(\"click\", function (e) {\r\n//         e.preventDefault();\r\n\r\n//         let category = e.target.closest(\".category-card\");\r\n//         let categoryVal = e.target.closest(\"li\").dataset.category;\r\n\r\n//         searchCategory.value = categoryVal;\r\n\r\n//         category.classList.toggle(\"active\");\r\n\r\n//     })\r\n// }\r\n","// 首頁 - heroBanner \r\nconst swiper_heroBanner = new Swiper(\".swiper-heroBanner\", {\r\n    cssMode: true,\r\n    slidesPerView: 1,\r\n    loop: true,\r\n    autoplay: {\r\n      disableOnInteraction: false,\r\n      delay: 4000,\r\n    },\r\n    navigation: {\r\n        nextEl: \".swiper-button-next\",\r\n        prevEl: \".swiper-button-prev\",\r\n      },\r\n      pagination: {\r\n        el: \".swiper-pagination\",\r\n        clickable: true,\r\n      },\r\n  });\r\n  \r\n\r\n// 首頁 - 熱門打卡景點\r\nconst swiper_homeSpots = new Swiper(\".swiper-home_scenicSpot\", {\r\n  slidesPerView: 1.6,\r\n  spaceBetween: 16,\r\n  grid: {\r\n      rows: 1,\r\n      fill: 'row',\r\n  },\r\n  breakpoints:{\r\n    992: {\r\n        slidesPerView: 4,\r\n        spaceBetween: 30,\r\n        grid: {\r\n            rows: 1,\r\n            fill: 'row',\r\n        },\r\n    },\r\n    768: {\r\n        slidesPerView: 2.5,\r\n        spaceBetween: 30,\r\n        grid: {\r\n            rows: 1,\r\n            fill: 'row',\r\n        },\r\n    },\r\n  }\r\n});\r\n\r\n// 首頁 - 一再回訪美食\r\nconst swiper_homeRestaurant = new Swiper(\".swiper-home_restaurant\", {\r\n  slidesPerView: 1.6,\r\n  spaceBetween: 16,\r\n  grid: {\r\n      rows: 1,\r\n      fill: 'row',\r\n  },\r\n  breakpoints:{\r\n    992: {\r\n        slidesPerView: 4,\r\n        spaceBetween: 30,\r\n        grid: {\r\n            rows: 1,\r\n            fill: 'row',\r\n        },\r\n    },\r\n    768: {\r\n        slidesPerView: 2.5,\r\n        spaceBetween: 30,\r\n        grid: {\r\n            rows: 1,\r\n            fill: 'row',\r\n        },\r\n    },\r\n  }\r\n});\r\n\r\n\r\n// 探索景點 內頁 swiper banner\r\nconst swiper_spotsBanner = new Swiper(\".swiper-scenicSpot_banner\", {\r\n  cssMode: true,\r\n  slidesPerView: 1,\r\n  loop: true,\r\n  autoplay: {\r\n    disableOnInteraction: false,\r\n    delay: 4000,\r\n  },\r\n  navigation: {\r\n      nextEl: \".swiper-button-next\",\r\n      prevEl: \".swiper-button-prev\",\r\n    },\r\n    pagination: {\r\n      el: \".swiper-pagination\",\r\n      clickable: true,\r\n    },\r\n});\r\n\r\n\r\n// 節慶活動 內頁 swiper banner\r\nconst swiper_activityBanner = new Swiper(\".swiper-activity_banner\", {\r\n  cssMode: true,\r\n  slidesPerView: 1,\r\n  loop: true,\r\n  autoplay: {\r\n    disableOnInteraction: false,\r\n    delay: 4000,\r\n  },\r\n  navigation: {\r\n      nextEl: \".swiper-button-next\",\r\n      prevEl: \".swiper-button-prev\",\r\n    },\r\n    pagination: {\r\n      el: \".swiper-pagination\",\r\n      clickable: true,\r\n    },\r\n});\r\n\r\n\r\n// 品嘗美食 內頁 swiper banner\r\nconst swiper_restaurantBanner = new Swiper(\".swiper-restaurant_banner\", {\r\n  cssMode: true,\r\n  slidesPerView: 1,\r\n  loop: true,\r\n  autoplay: {\r\n    disableOnInteraction: false,\r\n    delay: 4000,\r\n  },\r\n  navigation: {\r\n      nextEl: \".swiper-button-next\",\r\n      prevEl: \".swiper-button-prev\",\r\n    },\r\n    pagination: {\r\n      el: \".swiper-pagination\",\r\n      clickable: true,\r\n    },\r\n});\r\n\r\n\r\n\r\n// 推薦商品  swiper\r\nconst swiper_recommend = new Swiper(\".swiper-recommend\", {\r\n  slidesPerView: 1.6,\r\n  spaceBetween: 16,\r\n  grid: {\r\n      rows: 1,\r\n      fill: 'row',\r\n  },\r\n  breakpoints:{\r\n    992: {\r\n        slidesPerView: 4,\r\n        spaceBetween: 30,\r\n        grid: {\r\n            rows: 1,\r\n            fill: 'row',\r\n        },\r\n    },\r\n    768: {\r\n        slidesPerView: 2.5,\r\n        spaceBetween: 30,\r\n        grid: {\r\n            rows: 1,\r\n            fill: 'row',\r\n        },\r\n    },\r\n  }\r\n});\r\n\r\n","\r\n// 漢堡動態效果\r\n// const togglerBurger = document.querySelector('#toggler-burger');\r\n\r\n// // 預設是 false 選單關閉，不會出現打 X\r\n// let isMenuOpen = false;\r\n\r\n// togglerBurger.addEventListener('click', function (e) {\r\n//     //this 的指向是 togglerBurger 本身 要加上 open 樣式\r\n//     // console.log(this);\r\n//     // 點擊後 選單打開 為true，會出現打 X\r\n//     isMenuOpen = !isMenuOpen;\r\n//     isMenuOpen ? this.classList.add('open') : this.classList.remove('open');\r\n// })\r\n\r\n\r\n// 動態效果\r\n// jQuery 初始化\r\n$(function () {\r\n\r\n   // 漢堡動態效果\r\n   // 漢堡按鈕 綁定事件監聽，點擊後觸發加上切換 .open class功能\r\n   $('#toggler-burger').on('click', function () {\r\n      $(this).toggleClass('open');\r\n   })\r\n\r\n   // 導覽列滾動效果\r\n   let lastPos = 0;\r\n   $(window).on('scroll', function () {\r\n      let currentPos = window.scrollY;\r\n      //   往下滑\r\n      if (currentPos > lastPos) {\r\n         $('#navbar-toggle').css('top', '-100px');//讓navbar消失\r\n      } else {\r\n         $('#navbar-toggle').css('top', '0');//讓navbar出現\r\n      }\r\n      lastPos = currentPos;//再記住現在位置，跟未來的位置做比較\r\n   });\r\n\r\n\r\n   // goTop 動態效果\r\n   //選擇整個瀏覽器綁定監聽事件，使用 scroll 函式，並下判斷，如果瀏覽器的頂點超過 150x，\r\n  // 如果 .goTop 有 .hide 這個 Class，就執行切換 class，不然就增加 .hide。\r\n   $(window).on('scroll',function () {\r\n      if ($(window).scrollTop() > 150) {\r\n        if ($(\".goTop\").hasClass(\"hide\")) {\r\n          $(\".goTop\").toggleClass(\"hide\");\r\n        }\r\n      } else {\r\n        $(\".goTop\").addClass(\"hide\");\r\n      }\r\n    });\r\n\r\n   //  點擊 goTopBtn 按鈕後，html 與 body 給予動畫效果，並且讓捲軸上方回到 0 的位置，時間為 0.6秒。\r\n   $('#goTopBtn').on('click',function (e) {\r\n      e.preventDefault();\r\n      $('html , body').animate( { scrollTop: 0,},'600');\r\n    });\r\n    \r\n});\r\n\r\n\r\n\r\n// 亂數產生器函式\r\nfunction getRandom(num) {\r\n   return Math.floor(Math.random() * num);\r\n};\r\n\r\n\r\n\r\n\r\n\r\n"]}